CREATE TABLE public.hero
(
    hero_name VARCHAR(300) NOT NULL,
    hero_password BIGINT NOT NULL,
    hero_type BIGINT DEFAULT 0 NOT NULL,
    create_time TIMESTAMP DEFAULT now(),
    hero_lv INTEGER DEFAULT 0 NOT NULL,
    update_time TIMESTAMP DEFAULT now() NOT NULL,
    hero_price NUMERIC DEFAULT 0 NOT NULL,
    img_path VARCHAR(300),
    video_path VARCHAR(300)
);
CREATE UNIQUE INDEX hero_hero_name_uindex ON public.hero (hero_name);

create or replace function upd_timestamp() returns trigger as
$$
begin
  new.update_time = current_timestamp;
  return new;
end
$$
language plpgsql;

create trigger update_time before update on hero for each row execute procedure upd_timestamp();
